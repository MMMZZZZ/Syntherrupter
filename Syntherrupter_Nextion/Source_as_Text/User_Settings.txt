Page User_Settings
    Attributes
        ID               : 0
        Scope            : local
        Send Component ID: disabled
        Locked           : no
    
    Events
        Preinitialize Event
            // Prevent page refreshs until postinit
            ref_stop
            //
            // Load colors
            click fLoadColors,1
            click fLoadModes,1
            //
            // Display username
            if(User_Settings.userNum.val==0)
            {
                tUser.txt=" "+User_Settings.u0Name.txt
            }else if(User_Settings.userNum.val==1)
            {
                tUser.txt=" "+User_Settings.u1Name.txt
            }else if(User_Settings.userNum.val==2)
            {
                tUser.txt=" "+User_Settings.u2Name.txt
            }
            //
            vis fLoadModes,0
            vis fLoadColors,0
            //
            // Load global variable values into local variables. Note: Since a component consists of many different properties (like font size, color, position, ...) its memory footprint is much larger and it should not be global.
            tU0Name.txt=u0Name.txt
            tU0Code.txt=u0Code.txt
            tU1Name.txt=u1Name.txt
            tU1Code.txt=u1Code.txt
            tU2Name.txt=u2Name.txt
            tU2Code.txt=u2Code.txt
            user0Ontime.val=u0Ontime.val
            user0BPS.val=u0BPS.val
            user0Duty.val=u0Duty.val
            user1Ontime.val=u1Ontime.val
            user1BPS.val=u1BPS.val
            user1Duty.val=u1Duty.val
            user2Ontime.val=u2Ontime.val
            user2BPS.val=u2BPS.val
            user2Duty.val=u2Duty.val
            //
            // Each user can only see the settings of himself and "lower" users. Only user 2 can edit them.
            if(User_Settings.userNum.val!=2)
            {
                vis tU2Name,0
                vis tU2Code,0
                vis user2Ontime,0
                vis user2BPS,0
                vis user2Duty,0
                vis tus2,0
                vis tHz2,0
                vis tPerc2,0
                if(User_Settings.userNum.val!=1)
                {
                    vis tU1Name,0
                    vis tU1Code,0
                    vis user1Ontime,0
                    vis user1BPS,0
                    vis user1Duty,0
                    vis tus1,0
                    vis tHz1,0
                    vis tPerc1,0
                    vis tSelToMod,0
                    vis b0,0
                    vis b1,0
                    vis b2,0
                    vis b3,0
                    vis b4,0
                    vis b5,0
                    vis b6,0
                    vis b7,0
                    vis b8,0
                    vis b9,0
                    vis bClear,0
                    vis bOK,0
                    if(User_Settings.userNum.val!=0)
                    {
                        vis tU0Name,0
                        vis tU0Code,0
                        vis user0Ontime,0
                        vis user0BPS,0
                        vis user0Duty,0
                        vis tus0,0
                        vis tHz0,0
                        vis tPerc0,0
                    }
                }
            }
            //
            // Idle field is just used for default text/background color and as target for the numpad if no component is selected. Ergo should be hidden,
            vis idle,0
            newValTargetId.val=idle.id
            //
            // Load Help Mode
            if(Help_Info.helpMode.val==0)
            {
                vis qrHelp,0
            }else
            {
                tempStr.txt=tTitle.txt
                showHelp.val=1
                click 0,1
            }
            //
            // Enable page refreshs again
            ref_star
        
        Postinitialize Event
            // In case we return from the keyboard page, transmit the corresponding field.
            click fSysex,1
            //
            // Draw table grid
            //
            // Right border of the table
            sys0=0
            if(User_Settings.userNum.val==0)
            {
                sys0=tus0.x+tus0.w
            }else if(User_Settings.userNum.val==1)
            {
                sys0=tus1.x+tus1.w
            }else if(User_Settings.userNum.val==2)
            {
                sys0=tus2.x+tus2.w
            }
            // Horizontal grid lines
            for(sys1=tU0Name.y+tU0Name.h+2;sys1<user0Duty.y;sys1+=tU0Name.h+5)
            {
                line tUserName.x,sys1,sys0,sys1,tUserName.pco
            }
            //for(sys2=0;sys2<4;sys2++)
            //{
            //  sys1=sys2*31
            //  sys1+=116
            //  line 15,sys1,sys0,sys1,tUserName.pco
            //}
            //
            // Table height
            //sys1+=31
            // Vertical grid lines
            //for(sys2=tU0Name.y+tU0Name.h+3;sys2<user0Duty.y;sys2+=tU0Name.h+5)
            for(sys2=tU0Name.x-8;sys2<sys0;sys2+=tU0Name.w+15)
            {
                line sys2,tUserName.y,sys2,sys1,tUserName.pco
            }
        
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(Other_Settings.nBackOff.val!=0)
                {
                    // Default "stop" action.
                    // Set ontime and duty to 0 for all modes. See fSysex for details
                    // Disable all modes as well.
                    printh f0 00 26 06 01 7f 20 00 00 7f 00 00 00 00 00 f7
                    printh f0 00 26 05 01 7f 21 00 00 7f 00 00 00 00 00 f7
                    printh f0 00 26 05 01 7f 22 00 00 7f 00 00 00 00 00 f7
                    // Set all ontime and duty settings of all pages to 0.
                    // First come the global variables then the local variables.
                    Simple.ontime.val=0
                    Simple.duty.val=0
                    Simple.set1.val=Simple.set1.val&0x0000ffff
                    Simple.set2.val=Simple.set2.val&0x0000ffff
                    Simple.set3.val=Simple.set3.val&0x0000ffff
                    Simple.set4.val=Simple.set4.val&0x0000ffff
                    Simple.set5.val=Simple.set5.val&0x0000ffff
                    Simple.set6.val=Simple.set6.val&0x0000ffff
                    MIDI_Live.ontime.val=0
                    MIDI_Live.duty.val=0
                    MIDI_Live.set1.val=0
                    MIDI_Live.set2.val=0
                    MIDI_Live.set3.val=0
                    MIDI_Live.set4.val=0
                    MIDI_Live.set5.val=0
                    MIDI_Live.set6.val=0
                    Lightsaber.ontime.val=0
                    Lightsaber.ontimes12.val=0
                    Lightsaber.ontimes34.val=0
                    Lightsaber.ontimes56.val=0
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
                click qrHelp,0
            }
        
        Page Exit Event
            // Store local component values in global variables. Note: Since a component consists of many different properties (like font size, color, position, ...) its memory footprint is much larger and it should not be global.
            u0Name.txt=tU0Name.txt
            u0Code.txt=tU0Code.txt
            u1Name.txt=tU1Name.txt
            u1Code.txt=tU1Code.txt
            u2Name.txt=tU2Name.txt
            u2Code.txt=tU2Code.txt
            u0Ontime.val=user0Ontime.val
            u0BPS.val=user0BPS.val
            u0Duty.val=user0Duty.val
            u1Ontime.val=user1Ontime.val
            u1BPS.val=user1BPS.val
            u1Duty.val=user1Duty.val
            u2Ontime.val=user2Ontime.val
            u2BPS.val=user2BPS.val
            u2Duty.val=user2Duty.val
        
Variable (string) u0Name
    Attributes
        ID            : 1
        Scope         : global
        Text          : Padawan
        Max. Text Size: 16
    
Variable (string) u0Code
    Attributes
        ID            : 2
        Scope         : global
        Text          : 1234
        Max. Text Size: 16
    
Variable (int32) u0Ontime
    Attributes
        ID   : 3
        Scope: global
        Value: 100
    
Variable (int32) u0BPS
    Attributes
        ID   : 4
        Scope: global
        Value: 1000
    
Variable (int32) u0Duty
    Attributes
        ID   : 5
        Scope: global
        Value: 60
    
Variable (string) u1Name
    Attributes
        ID            : 6
        Scope         : global
        Text          : Jedi Knight
        Max. Text Size: 16
    
Variable (string) u1Code
    Attributes
        ID            : 7
        Scope         : global
        Text          : 8079
        Max. Text Size: 16
    
Variable (int32) u1Ontime
    Attributes
        ID   : 8
        Scope: global
        Value: 150
    
Variable (int32) u1BPS
    Attributes
        ID   : 9
        Scope: global
        Value: 1000
    
Variable (int32) u1Duty
    Attributes
        ID   : 10
        Scope: global
        Value: 80
    
Variable (string) u2Name
    Attributes
        ID            : 11
        Scope         : global
        Text          : Master Yoda
        Max. Text Size: 16
    
Variable (string) u2Code
    Attributes
        ID            : 12
        Scope         : global
        Text          : 0
        Max. Text Size: 16
    
Variable (int32) u2Ontime
    Attributes
        ID   : 13
        Scope: global
        Value: 200
    
Variable (int32) u2BPS
    Attributes
        ID   : 14
        Scope: global
        Value: 1000
    
Variable (int32) u2Duty
    Attributes
        ID   : 15
        Scope: global
        Value: 100
    
Variable (string) tAutoCode
    Attributes
        ID            : 16
        Scope         : global
        Text          : 0
        Max. Text Size: 1
    
Variable (int32) newValTargetId
    Attributes
        ID   : 36
        Scope: local
        Value: 64
    
Variable (int32) newSelect
    Attributes
        ID   : 37
        Scope: local
        Value: 0
    
Variable (int32) userNum
    Attributes
        ID   : 39
        Scope: global
        Value: 0
    
Variable (string) tempStr
    Attributes
        ID            : 45
        Scope         : local
        Text          : 
        Max. Text Size: 32
    
Variable (int32) showHelp
    Attributes
        ID   : 46
        Scope: local
        Value: 0
    
Variable (string) asciiTemp
    Attributes
        ID            : 78
        Scope         : local
        Text          : a
        Max. Text Size: 97
    
Variable (int32) asciiCode
    Attributes
        ID   : 79
        Scope: local
        Value: 0
    
Variable (int32) temp
    Attributes
        ID   : 80
        Scope: local
        Value: 0
    
Variable (int32) origin
    Attributes
        ID   : 81
        Scope: global
        Value: 4294967295
    
Number user0Ontime
    Attributes
        ID                 : 68
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 100
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                if(User_Settings.userNum.val!=0)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user0Ontime.bco=idle.pco
                    user0Ontime.pco=idle.bco
                    newValTargetId.val=user0Ontime.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Code for using the Keyboard page
                //if(tUser.txt!=u0Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u0Ontime.id
                //  Keyboard.sComp.txt="User 0 Ontime"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Number user1Ontime
    Attributes
        ID                 : 69
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 150
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                if(User_Settings.userNum.val==2)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user1Ontime.bco=idle.pco
                    user1Ontime.pco=idle.bco
                    newValTargetId.val=user1Ontime.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Code for using the Keyboard page
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u1Ontime.id
                //  Keyboard.sComp.txt="User 1 Ontime"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Number user2Ontime
    Attributes
        ID                 : 70
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 200
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // This value is automatically determined by the microcontroller from the max coil settings.Currently it is only updated at startup.
                // Check if values are legal
                //click fCheck,0
                //if(tUser.txt==u2Name.txt)
                //{
                // Reset push state of last selected value
                //  b[newValTargetId.val].bco=idle.bco
                //  b[newValTargetId.val].pco=idle.pco
                // Mark this field as pushed
                //  user2Ontime.bco=idle.pco
                //  user2Ontime.pco=idle.bco
                //  newValTargetId.val=user2Ontime.id
                // A new value has been selected
                //  newSelect.val=1
                //}
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u2Ontime.id
                //  Keyboard.sComp.txt="User 2 Ontime"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Number user0BPS
    Attributes
        ID                 : 71
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 1000
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                if(User_Settings.userNum.val!=0)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user0BPS.bco=idle.pco
                    user0BPS.pco=idle.bco
                    newValTargetId.val=user0BPS.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Code for using the Keyboard page
                //if(tUser.txt!=u0Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u0BPS.id
                //  Keyboard.sComp.txt="User 0 BPS"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Number user1BPS
    Attributes
        ID                 : 72
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 1000
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                if(User_Settings.userNum.val==2)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user1BPS.bco=idle.pco
                    user1BPS.pco=idle.bco
                    newValTargetId.val=user1BPS.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Code for using the Keyboard page
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u1BPS.id
                //  Keyboard.sComp.txt="User 1 BPS"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Number user2BPS
    Attributes
        ID                 : 73
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 1000
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                if(userNum.val==2)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user2BPS.bco=idle.pco
                    user2BPS.pco=idle.bco
                    newValTargetId.val=user2BPS.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u2BPS.id
                //  Keyboard.sComp.txt="User 2 BPS"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
XFloat idle
    Attributes
        ID                 : 38
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 0
    
XFloat user0Duty
    Attributes
        ID                 : 74
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 60
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // .val is in 10ths of percent
                // Check if values are legal
                click fCheck,0
                if(User_Settings.userNum.val!=0)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user0Duty.bco=idle.pco
                    user0Duty.pco=idle.bco
                    newValTargetId.val=user0Duty.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Code for using the Keyboard page
                //if(tUser.txt!=u0Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u0Duty.id
                //  Keyboard.sComp.txt="User 0 Duty"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
XFloat user1Duty
    Attributes
        ID                 : 75
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 80
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Check if values are legal
                click fCheck,0
                // .val is in 10ths of percent
                if(User_Settings.userNum.val==2)
                {
                    // Reset push state of last selected value
                    b[newValTargetId.val].bco=idle.bco
                    b[newValTargetId.val].pco=idle.pco
                    // Mark this field as pushed
                    user1Duty.bco=idle.pco
                    user1Duty.pco=idle.bco
                    newValTargetId.val=user1Duty.id
                    // A new value has been selected
                    newSelect.val=1
                }
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u1Duty.id
                //  Keyboard.sComp.txt="User 1 Duty"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
XFloat user2Duty
    Attributes
        ID                 : 76
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Value              : 100
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // .val is in 10ths of percent
                // This value is automatically determined by the microcontroller from the max coil settings.Currently it is only updated at startup.
                // Check if values are legal
                //click fCheck,0
                //if(tUser.txt==u2Name.txt)
                //{
                // Reset push state of last selected value
                //  b[newValTargetId.val].bco=idle.bco
                //  b[newValTargetId.val].pco=idle.pco
                // Mark this field as pushed
                //  user2Duty.bco=idle.pco
                //  user2Duty.pco=idle.bco
                //  newValTargetId.val=user2Duty.id
                // A new value has been selected
                //  newSelect.val=1
                //}
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSo"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                //if(tUser.txt==u2Name.txt)
                //{
                //  Keyboard.origin.val=dp
                //  Keyboard.target.val=u2Duty.id
                //  Keyboard.sComp.txt="User 2 Duty"
                //  page Keyboard
                //}
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tHideBack2
    Attributes
        ID                 : 17
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               :  
        Max. Text Size     : 1
    
    Events
        Touch Press Event
            // This is just to hide the background around the sliders so that you do not turn the outputs off by accident.
        
Text tHideBack
    Attributes
        ID                 : 18
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               :  
        Max. Text Size     : 1
    
    Events
        Touch Press Event
            // This is just to hide the background around the sliders so that you do not turn the outputs off by accident.
        
Text tTitle
    Attributes
        ID                 : 19
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : User Settings
        Max. Text Size     : 22
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tUserCode
    Attributes
        ID                 : 21
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Code:
        Max. Text Size     : 12
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tUserOntime
    Attributes
        ID                 : 22
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : max. Ontime:
        Max. Text Size     : 12
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tUserName
    Attributes
        ID                 : 23
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Name:
        Max. Text Size     : 12
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tUserDuty
    Attributes
        ID                 : 24
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : max. Duty:
        Max. Text Size     : 12
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tUserBPS
    Attributes
        ID                 : 25
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : max. BPS:
        Max. Text Size     : 12
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tus0
    Attributes
        ID                 : 26
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : µs
        Max. Text Size     : 3
    
Text tHz0
    Attributes
        ID                 : 27
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Hz
        Max. Text Size     : 2
    
Text tPerc0
    Attributes
        ID                 : 28
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : %
        Max. Text Size     : 1
    
Text tus1
    Attributes
        ID                 : 29
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : µs
        Max. Text Size     : 3
    
Text tHz1
    Attributes
        ID                 : 30
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Hz
        Max. Text Size     : 2
    
Text tPerc1
    Attributes
        ID                 : 31
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : %
        Max. Text Size     : 1
    
Text tus2
    Attributes
        ID                 : 32
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : µs
        Max. Text Size     : 3
    
Text tHz2
    Attributes
        ID                 : 33
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Hz
        Max. Text Size     : 2
    
Text tPerc2
    Attributes
        ID                 : 34
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : %
        Max. Text Size     : 1
    
Text tSelToMod
    Attributes
        ID                 : 35
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Select any value to modify.
        Max. Text Size     : 30
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text fCheck
    Attributes
        ID                 : 40
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               :  
        Max. Text Size     : 10
    
    Events
        Touch Release Event
            // Settings must stay in certain ranges. this function checks and fixes them.
            // Code order: check all coil 1 settings, then repeat for coils 2-6.
            //
            sys0=user0Ontime.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            user0Ontime.val=sys0*10
            //
            sys0=user0BPS.val/10
            if(sys0>2047)
            {
                // BPS / 10 must be smaller than 2048 (11 bits)
                sys0=2047
            }
            user0BPS.val=sys0*10
            //
            if(user0Duty.val>511)
            {
                // Duty [in 1/1000] must be smaller than 512 (9 bits)
                user0Duty.val=511
            }
            //
            sys0=user1Ontime.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            user1Ontime.val=sys0*10
            //
            sys0=user1BPS.val/10
            if(sys0>2047)
            {
                // BPS / 10 must be smaller than 2048 (11 bits)
                sys0=2047
            }
            user1BPS.val=sys0*10
            //
            if(user1Duty.val>511)
            {
                // Duty [in 1/1000] must be smaller than 512 (9 bits)
                user1Duty.val=511
            }
            //
            sys0=user2Ontime.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            user2Ontime.val=sys0*10
            //
            sys0=user2BPS.val/10
            if(sys0>2047)
            {
                // BPS / 10 must be smaller than 2048 (11 bits)
                sys0=2047
            }
            user2BPS.val=sys0*10
            //
            if(user2Duty.val>511)
            {
                // Duty [in 1/1000] must be smaller than 512 (9 bits)
                user2Duty.val=511
            }
            //
            click fSysex,1
        
Text tUser
    Attributes
        ID                 : 41
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               :  Guest
        Max. Text Size     : 32
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tMSI
    Attributes
        ID                 : 42
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Simple
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tMML
    Attributes
        ID                 : 43
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : MIDI Live
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tMLS
    Attributes
        ID                 : 44
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Lightsaber
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            // Make this object "transparent" for clicks and click background.
            click 0,1
        
Text tU0Name
    Attributes
        ID                 : 62
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Padawan
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSw"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(userNum.val!=0)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u0Name.id
                    Keyboard.sComp.txt="User 0 Name"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tU1Name
    Attributes
        ID                 : 63
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Jedi Knight
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSw"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(userNum.val!=0)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u1Name.id
                    Keyboard.sComp.txt="User 1 Name"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tU2Name
    Attributes
        ID                 : 64
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : Master Yoda
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSw"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(userNum.val==2)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u2Name.id
                    Keyboard.sComp.txt="User 2 Name"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tU0Code
    Attributes
        ID                 : 65
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : 1234
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU0Code.pw=0
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSr"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU0Code.pw=1
                if(userNum.val!=0)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u0Code.id
                    Keyboard.sComp.txt="User 0 Code"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tU1Code
    Attributes
        ID                 : 66
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : 2345
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU1Code.pw=0
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSr"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU1Code.pw=1
                if(userNum.val!=0)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u1Code.id
                    Keyboard.sComp.txt="User 1 Code"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Text tU2Code
    Attributes
        ID                 : 67
        Scope              : local
        Send Component ID  : disabled
        Associated Keyboard: none
        Text               : 0
        Max. Text Size     : 16
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU2Code.pw=0
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxSr"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                tU2Code.pw=1
                if(userNum.val==2)
                {
                    Keyboard.origin.val=dp
                    Keyboard.target.val=u2Code.id
                    Keyboard.sComp.txt="User 2 Code"
                    page Keyboard
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
QR Code qrHelp
    Attributes
        ID               : 60
        Scope            : local
        Send Component ID: disabled
        Text             : git.io/JkvOK
        Max. Text Size   : 16
    
    Events
        Touch Release Event
            if(showHelp.val==0)
            {
                showHelp.val=1
                tempStr.txt=tTitle.txt
                tTitle.txt="Get Help/Link for..."
                // keep QR code on top
                ref qrHelp
                // Show modified title before stopping screen refreshs.
                doevents
                ref_stop
            }else
            {
                showHelp.val=0
                tTitle.txt=tempStr.txt
                // keep QR code on top
                ref qrHelp
                ref_star
            }
        
Button bReturn
    Attributes
        ID               : 20
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : â†
        Max. Text Size   : 3
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
                // Store local component values in global variables. Note: Since a component consists of many different properties (like font size, color, position, ...) its memory footprint is much larger and it should not be global.
                click bOK,0
                u0Name.txt=tU0Name.txt
                u0Code.txt=tU0Code.txt
                u1Name.txt=tU1Name.txt
                u1Code.txt=tU1Code.txt
                u2Name.txt=tU2Name.txt
                u2Code.txt=tU2Code.txt
                u0Ontime.val=user0Ontime.val
                u0BPS.val=user0BPS.val
                u0Duty.val=user0Duty.val
                u1Ontime.val=user1Ontime.val
                u1BPS.val=user1BPS.val
                u1Duty.val=user1Duty.val
                u2Ontime.val=user2Ontime.val
                u2BPS.val=user2BPS.val
                u2Duty.val=user2Duty.val
                //
                // Serial Data format: 'u', Data Byte 1, 2, ...
                // Byte 1:
                //   Bit 6-7: User. Can be 0, 1 or 2.
                //   Bit   5: Indicates content of the following bytes. 0 = Name, 1 = Password
                //   Bit 0-4: Number of following bytes minus one. This means Name or password are at least 1 character and at most 32 characters.
                // Byte 2-x: Characters of the username/password without null termination character.
                //
                // sys0 will contain byte 1.
                // sys1 is used as temp variable
                // Start with user 0, name, then his password, then user 1 name, etc.
                strlen tU0Name.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU0Name.txt,sys0
                //
                strlen tU0Code.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                sys1=1<<5
                sys0+=sys1
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU0Code.txt,sys0
                //
                strlen tU1Name.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                sys1=1<<6
                sys0+=sys1
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU1Name.txt,sys0
                //
                strlen tU1Code.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                sys1=1<<6
                sys0+=sys1
                sys1=1<<5
                sys0+=sys1
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU1Code.txt,sys0
                //
                strlen tU2Name.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                sys1=2<<6
                sys0+=sys1
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU2Name.txt,sys0
                //
                strlen tU2Code.txt,sys0
                sys0-=1
                sys0=sys0&0x1f
                sys1=2<<6
                sys0+=sys1
                sys1=1<<5
                sys0+=sys1
                prints "u",1
                prints sys0,1
                sys0+=1
                prints tU2Code.txt,sys0
                // Serial Data format: 'd', Data Byte 1, 2, 3, 4, 5
                // Data byte 1:
                //    Bit 6-7: 0 = User settings
                //    Bit 0-5:User whose limits are being set (0,1 or 2)
                // Data byte 2-5: Bit field with settings
                //    Bit  0-11: Maximum allowed ontime [10us]
                //    Bit 12-22: Maximum allowed BPS/interrupt frequency [10Hz]
                //    Bit 23-31: Maximum allowed duty [1/1000]
                //
                // sys0 will contain the bit field (a.k.a. the data bytes 2-5)
                // sys1 is used as temp variable
                // sys2 is the coil number
                sys0=u0Ontime.val/10
                sys1=u0BPS.val/10
                sys1=sys1<<12
                sys0+=sys1
                sys1=u0Duty.val<<23
                sys0+=sys1
                prints "d",1
                prints 0,1
                prints sys0,4
                sys0=u1Ontime.val/10
                sys1=u1BPS.val/10
                sys1=sys1<<12
                sys0+=sys1
                sys1=u1Duty.val<<23
                sys0+=sys1
                prints "d",1
                prints 1,1
                prints sys0,4
                sys0=u2Ontime.val/10
                sys1=u2BPS.val/10
                sys1=sys1<<12
                sys0+=sys1
                sys1=u2Duty.val<<23
                sys0+=sys1
                prints "d",1
                prints 2,1
                prints sys0,4
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JLxS6"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                page origin.val
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b1
    Attributes
        ID               : 47
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 1
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=1
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b2
    Attributes
        ID               : 48
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 2
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=2
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b3
    Attributes
        ID               : 49
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 3
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=3
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b4
    Attributes
        ID               : 50
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 4
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=4
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b5
    Attributes
        ID               : 51
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 5
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=5
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b6
    Attributes
        ID               : 52
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 6
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=6
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button bClear
    Attributes
        ID               : 53
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : X
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                b[newValTargetId.val].val=0
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b0
    Attributes
        ID               : 54
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 0
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b9
    Attributes
        ID               : 55
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 9
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=9
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b8
    Attributes
        ID               : 56
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 8
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=8
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button b7
    Attributes
        ID               : 57
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : 7
        Max. Text Size   : 1
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                if(newSelect.val!=0)
                {
                    newSelect.val=0
                    b[newValTargetId.val].val=0
                }else
                {
                    b[newValTargetId.val].val*=10
                }
                b[newValTargetId.val].val+=7
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Button bOK
    Attributes
        ID               : 58
        Scope            : local
        Send Component ID: disabled
        State            : unpressed
        Text             : ok
        Max. Text Size   : 2
    
    Events
        Touch Press Event
            if(showHelp.val==0)
            {
                // Normal Operation
            }else
            {
                // Show Help
                qrHelp.txt="git.io/JkfaO"
            }
        
        Touch Release Event
            if(showHelp.val==0)
            {
                // Normal Operation
                b[newValTargetId.val].bco=idle.bco
                b[newValTargetId.val].pco=idle.pco
                newValTargetId.val=idle.id
                click fCheck,0
            }else
            {
                // Show Help
                click qrHelp,0
            }
        
Hotspot fLoadModes
    Attributes
        ID               : 59
        Scope            : local
        Send Component ID: disabled
    
    Events
        Touch Press Event
            // Load active modes
            sys0=Settings.activeModes.val&4
            if(sys0!=0)
            {
                // Lightsaber Mode is active
                tMLS.bco=Settings.backSelectCol2.val
            }
            //
            // Display all active modes
            sys0=Settings.activeModes.val&1
            if(sys0!=0)
            {
                // Simple Mode is active
                tMSI.bco=Settings.backSelectCol2.val
            }
            sys0=Settings.activeModes.val&2
            if(sys0!=0)
            {
                // MIDI Live Mode is active
                tMML.bco=Settings.backSelectCol2.val
            }
        
Hotspot fSysex
    Attributes
        ID               : 61
        Scope            : local
        Send Component ID: disabled
    
    Events
        Touch Press Event
            // Sends a Syntherrupter Sysex command that updates Syntherrupter with whatever
            // has been changed on this page.
            // Package format:
            // F0 00 DMID DMID VERSION DEVICE PN_LSB PN_MSB TG_LSB TG_MSB VAL_LSB VAL VAL VAL VAL_MSB F7
            // DMID DMID = 26 05
            // VERSION = 01
            // DEVICE = 7f (wildcard)
            // PN, TG, VAL: see syntherrupter sysex documentation
            //
            // To send:
            //
            if(Keyboard.target.val>=u0Name.id&&Keyboard.target.val<=u2Duty.id)
            {
                sys1=Keyboard.target.val
            }else if(newValTargetId.val!=idle.id)
            {
                sys1=newValTargetId.val
            }else
            {
                // Nothing to do! But there's no "return" statement.
                sys1=-1
            }
            if(sys1>=0)
            {
                //
                // PN_LSB PN_MSB TG_LSB can all be determined by the component ID
                // In the case of integer commands, TG_MSB can also be included since it's 0x00
                if(sys1==tU0Name.id)
                {
                    temp.val=0x000240
                }else if(sys1==tU1Name.id)
                {
                    temp.val=0x010240
                }else if(sys1==tU2Name.id)
                {
                    temp.val=0x020240
                }else if(sys1==tU0Code.id)
                {
                    temp.val=0x000241
                }else if(sys1==tU1Code.id)
                {
                    temp.val=0x010241
                }else if(sys1==tU2Code.id)
                {
                    temp.val=0x020241
                }else if(sys1==user0Ontime.id)
                {
                    temp.val=0x000242
                }else if(sys1==user1Ontime.id)
                {
                    temp.val=0x010242
                }else if(sys1==user2Ontime.id)
                {
                    temp.val=0x020242
                }else if(sys1==user0BPS.id)
                {
                    temp.val=0x000243
                }else if(sys1==user1BPS.id)
                {
                    temp.val=0x010243
                }else if(sys1==user2BPS.id)
                {
                    temp.val=0x020243
                }else if(sys1==user0Duty.id)
                {
                    temp.val=0x000244
                }else if(sys1==user1Duty.id)
                {
                    temp.val=0x010244
                }else if(sys1==user2Duty.id)
                {
                    temp.val=0x020244
                }
                //
                // Distinguish between string and integer data
                sys0=temp.val&0xff
                if(sys0>=0x42)
                {
                    // Integer settings
                    // SYSEX_START DMID VERSION DEVICE
                    printh f0 00 26 05 01 7f
                    // PN_LSB PN_MSB TG_LSB TG_MSB
                    prints temp.val,4
                    // VAL (4 bytes to be packed into 5 groups of 7 bit)
                    // Integer; meaning depends on selection
                    sys1=b[sys1].val
                    sys2=sys1
                    sys2&=0x7f
                    prints sys2,1
                    sys1>>=7
                    sys2=sys1&0x7f
                    prints sys2,1
                    sys1>>=7
                    sys2=sys1&0x7f
                    prints sys2,1
                    sys1>>=7
                    sys2=sys1&0x7f
                    prints sys2,1
                    sys1>>=7
                    sys2=sys1&0x7f
                    prints sys2,1
                    // SYSEX_END
                    printh f7
                }else
                {
                    for(sys0=0;sys0<16;sys0+=4)
                    {
                        sys1=0
                        for(sys2=sys0+3;sys2>=sys0;sys2--)
                        {
                            substr b[Keyboard.target.val].txt,asciiTemp.txt,sys2,1
                            click charToInt,1
                            sys1<<=8
                            sys1|=asciiCode.val
                        }
                        // No need to transmit empty strings except if it's the first part of the string.
                        if(sys0==0||sys1!=0)
                        {
                            // SYSEX_START DMID VERSION DEVICE
                            printh f0 00 26 05 01 7f
                            // PN_LSB PN_MSB TG_LSB
                            prints temp.val,3
                            // TG_MSB
                            sys2=sys0/4
                            prints sys2,1 // Char Group
                            // VAL (4 bytes to be packed into 5 groups of 7 bit)
                            sys2=sys1
                            sys2&=0x7f
                            prints sys2,1
                            sys1>>=7
                            sys2=sys1&0x7f
                            prints sys2,1
                            sys1>>=7
                            sys2=sys1&0x7f
                            prints sys2,1
                            sys1>>=7
                            sys2=sys1&0x7f
                            prints sys2,1
                            sys1>>=7
                            sys2=sys1&0x7f
                            prints sys2,1
                            // SYSEX_END
                            printh f7
                        }
                    }
                }
                // Value no longer useful; reset.
                Keyboard.target.val=-1
            }
        
Hotspot charToInt
    Attributes
        ID               : 77
        Scope            : local
        Send Component ID: disabled
    
    Events
        Touch Press Event
            // The fact that this is necessary is is utterly ridiculous.
            // asciiTemp is used as input as well as as intermediary variable.
            spstr " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~PLACEHOLDER",asciiTemp.txt,asciiTemp.txt,0
            strlen asciiTemp.txt,asciiCode.val
            // If input is empty, spstr will return the full string. Return 0 instead.
            if(asciiCode.val>=96)
            {
                asciiCode.val=0
            }else
            {
                asciiCode.val+=32
            }
        
Hotspot fLoadColors
    Attributes
        ID               : 82
        Scope            : local
        Send Component ID: disabled
    
    Events
        Touch Press Event
            // Changes all page components according to the current color set.
            // Note: This component has to be the last component of the page.
            //
            // sys0: component id
            // sys1: component type
            // sys2: picture id offset for current color mode
            sys2=Settings.colorMode.val*Settings.picCount.val
            for(sys0=0;sys0<fLoadColors.id;sys0++)
            {
                // More convenient for typing
                sys1=b[sys0].type
                if(sys1==121)
                {
                    // Types that have bco
                    // page
                    if(b[sys0].bco==Settings.backCol2Deflt.val)
                    {
                        b[sys0].bco=Settings.backCol2.val
                    }else
                    {
                        b[sys0].bco=Settings.backCol.val
                    }
                }else if(sys1==54||sys1==59||sys1==116||sys1==55)
                {
                    // Types that have bco, pco, and sta:
                    // number, float, text, scroll text
                    if(b[sys0].sta==1)
                    {
                        if(b[sys0].bco==Settings.backCol2Deflt.val)
                        {
                            b[sys0].bco=Settings.backCol2.val
                            b[sys0].pco=Settings.frontCol2.val
                        }else
                        {
                            b[sys0].bco=Settings.backCol.val
                            b[sys0].pco=Settings.frontCol.val
                        }
                    }
                }else if(sys1==98||sys1==53)
                {
                    // Types that have pco, pic, pco2, pic2, sta:
                    // button, dual-state button
                    if(b[sys0].sta==2)
                    {
                        b[sys0].pco=Settings.frontCol.val
                        b[sys0].pco2=Settings.backCol.val
                        b[sys0].pic=b[sys0].pic%Settings.picCount.val
                        b[sys0].pic+=sys2
                        b[sys0].pic2=b[sys0].pic+1
                    }
                }else if(sys1==58)
                {
                    // Types that have bco, pco
                    // QR Code
                    b[sys0].bco=Settings.backCol.val
                    b[sys0].pco=Settings.qrFrontCol.val
                }else if(sys1==1)
                {
                    // Types that have pic, pic1, pic2:
                    // slider
                    b[sys0].pic=b[sys0].pic%Settings.picCount.val
                    b[sys0].pic+=sys2
                    b[sys0].pic1=b[sys0].pic
                    b[sys0].pic2=b[sys0].pic2%Settings.picCount.val
                    b[sys0].pic2+=sys2
                }
            }
        
